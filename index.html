<input type="text" id="number" placeholder="Enter Phone Number" />
<button onclick="fetchData()">Get Details</button>
<div id="responseBox"></div>

<script>
async function fetchData() {
  const number = document.getElementById("number").value.trim();
  const responseBox = document.getElementById("responseBox");

  if (!/^\d{10,15}$/.test(number)) {
    responseBox.innerText = "Please enter a valid number (10-15 digits).";
    return;
  }

  responseBox.innerText = "Loading...";

  try {
    const res = await fetch(`proxy.php?number=${number}`);
    const data = await res.json();

    if (data.status === "success" && data.data.length > 0) {
      const user = data.data[0];
      responseBox.innerText = `
Mobile: ${user.Mobile || "Not found"}
Name: ${user.Name || "Not found"}
CNIC: ${user.CNIC || "Not found"}
Address: ${user.Address || "Not found"}
Operator: ${user.Operator || "Not found"}
      `;
    } else {
      responseBox.innerText = "Data not found.";
    }
  } catch (error) {
    responseBox.innerText = "Error fetching data.";
    console.error(error);
  }
}
</script>
